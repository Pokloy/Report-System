<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, minimum-scale=1.0">
<link th:href="@{/css/common.css}" rel="stylesheet"></link>
<link th:href="@{/css/leader/createuser.css}" rel="stylesheet"></link>

<title>Confirm Created User</title>
</head>
<body>
<!--create user html
author Karl James Arboiz
10/03/2023-->

	<div th:object="${userCreationWebDto}">
		<div th:replace="layout/userheader :: headerAll(imgVal=*{profilePhoto})"></div>
	</div>
	
	<main>
		<form th:action="@{*{edited ? '/view/leader/groupconfiguration' :
		 '/view/leader/'}}" method="POST" th:object="${userCreationWebDto}" enctype="multipart/form-data">
				<div th:replace="layout/userheader :: 
				mainHeader(headerTitle='CONFIRMATION',
				backBtnName=*{edited? 'backtoedit' : 'returntocreate'})">
				</div>
			<div class="main-container">
				
					<div class="profile">
						<div class="img-container">
							
						</div>
						
						<button type="button" name="profile-button">
							<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
								<path d="M9.60714 3.96429C9.07143 3.42857 8.21429 3.42857 7.67857 3.96429L4.03571 7.60714C4 7.64286 3.96429 7.71429 3.92857 7.78571L3.57143 9.57143C3.53571 9.67857 3.57143 9.82143 3.67857 9.89286C3.75 9.96429 3.89286 10 4 10L5.78571 9.64286C5.85714 9.64286 5.92857 9.60714 5.96429 9.53572L9.60714 5.89286C10.1429 5.35714 10.1429 4.5 9.60714 3.96429ZM5.53571 8.96429L4.39286 9.17857L4.60714 8.03571L7.5 5.14286L8.42857 6.07143L5.53571 8.96429ZM9.10714 5.39286L8.92857 5.57143L8 4.64286L8.17857 4.46429C8.42857 4.21429 8.85714 4.21429 9.10714 4.46429C9.35714 4.71429 9.35714 5.14286 9.10714 5.39286ZM5.82143 4.53571C5.96429 4.67857 6.17857 4.67857 6.32143 4.53571C6.46429 4.39286 6.46429 4.17857 6.32143 4.03571L5.60714 3.32143C5.46429 3.17857 5.25 3.17857 5.10714 3.32143L3.21429 5.21429L2.39286 4.39286C2.25 4.25 2.03571 4.25 1.89286 4.39286L0.714286 5.57143V1.07143C0.714286 0.857143 0.857143 0.714286 1.07143 0.714286H7.5C7.71429 0.714286 7.85714 0.857143 7.85714 1.07143V2.5C7.85714 2.71429 8 2.85714 8.21429 2.85714C8.42857 2.85714 8.57143 2.71429 8.57143 2.5V1.07143C8.57143 0.464286 8.10714 0 7.5 0H1.07143C0.464286 0 0 0.464286 0 1.07143V7.5C0 8.10714 0.464286 8.57143 1.07143 8.57143H2.85714C3.07143 8.57143 3.21429 8.42857 3.21429 8.21429C3.21429 8 3.07143 7.85714 2.85714 7.85714H1.07143C0.857143 7.85714 0.714286 7.71429 0.714286 7.5V6.57143L2.14286 5.14286L2.96429 5.96429C3.10714 6.10714 3.32143 6.10714 3.46429 5.96429L5.35714 4.07143L5.82143 4.53571Z" fill="white"/>
								<path d="M2.14258 2.4999C2.14258 3.10704 2.60686 3.57132 3.21401 3.57132C3.82115 3.57132 4.28544 3.10704 4.28544 2.4999C4.28544 1.89275 3.82115 1.42847 3.21401 1.42847C2.60686 1.42847 2.14258 1.89275 2.14258 2.4999ZM3.57115 2.4999C3.57115 2.71418 3.42829 2.85704 3.21401 2.85704C2.99972 2.85704 2.85686 2.71418 2.85686 2.4999C2.85686 2.28561 2.99972 2.14275 3.21401 2.14275C3.42829 2.14275 3.57115 2.28561 3.57115 2.4999Z" fill="white"/>
							</svg>
						</button>
						
						<input type="hidden" th:value="*{encodedImages}" name="displayPicture">
					</div>	
    		   
					<div class="input-fields">
						
							<div  class="form-group">
								<label for="first-name">First Name:</label>
								<p th:text="*{firstName}" class="value"></p>
								<input type="hidden" id="first-name" th:field="*{firstName}" name="first-name" 
								value="*{firstName}">
							</div>
							
							<div  class="form-group">
								<label for="last-name">Last Name:</label>
								<p th:text="*{lastName}" class="value"></p>
								<input type="hidden" id="last-name" th:field="*{lastName}" name="first-name" 
								value="*{lastName}">
							</div>
							<div class="form-group">
								<label for="username">Username:</label>
								<p th:text="*{username}" class="value"></p>
								<input type="hidden" id="username" th:field="*{username}" name="username" 
								th:value="*{username}">
							</div>
							
							<div class="form-group">
								<label for="mailAddress">Email:</label>
								<p th:text="*{mailAddress}" class="value"></p>
								<input type="hidden" id="mailAddress" th:field="*{mailAddress}" name="mailAddress" 
								th:value="*{mailAddress}">
							</div>
							
							
							<div class="form-group">
								<label for="password">Password:</label>
								<p id="password-value" class="value"></p>
								
								<div th:if="*{!edited}">
									<input type="hidden" id="password"
									th:field="*{password}" name="password" 
									th:value="*{password}">
								</div>
								
								<div th:if="*{edited}">
									<input type="hidden" id="password"
									th:if="*{edited}"
									th:field="*{newUserPassword}" name="password" 
									th:value="*{newUserPassword}">
								</div>
								
							</div>
		
							<div class="form-group">
								<label for="group-name">Group Name: </label>
								<p th:text="*{groupName}" class="value"></p>
								<input type="hidden" id="group-idpk" th:field="*{groupIdPk}" name="group-idpk" 
								th:value="*{groupIdPk}">
							</div>
							
							<input type="hidden" th:if="*{edited}"
								th:value="*{idPk}" th:field="*{idPk}">
					   
		    		</div>
	  
			</div>
			<div th:replace="layout/userheader :: rowBtnNavigation 
			(backBtnName=*{edited ? 'backtoconfig': 'home'},
			submitBtnName=*{edited ? 'saveedit': 'save'},
			backBtnText='Cancel',
			submitBtnText='Submit')"></div>
			
	  				
		</form>
        
  			
	</main>
	

	
	<script type="text/javascript">
		
		const passwordValue = document.querySelector("#password");
		const passwordValueElOutput = document.querySelector("#password-value");
		const imgContainer = document.querySelector(".img-container");
		const displayPictureSession = document.querySelector("[name='displayPicture']");
		let p="";
		
		hideValueForInputs(passwordValue?.value?.length,p,passwordValueElOutput);
		
		function hideValueForInputs(valueLength, payloadVariable,targetEl){
			for(let i = 0; i< valueLength; i++){
				payloadVariable+="*"
				
			}
			targetEl.innerHTML = payloadVariable;
		}
	
	
		window.addEventListener("load",()=>{
		
			if(displayPictureSession.value !== ""){
				const img = document.createElement("img");
				
				img.setAttribute("name","show-picture");
				img.setAttribute("alt","This is a profile Picture");
				
				img.src = displayPictureSession?.value;
				imgContainer.appendChild(img);
				
			}else {
				return;
			}
		})
		
	
	</script>
</body>
</html>